{"version":3,"file":"js/771.7f948fa7.js","mappings":"mNACOA,MAAM,S,GAEJA,MAAM,Q,GACJA,MAAM,uC,GACJA,MAAM,wC,GACPC,EAAAA,EAAAA,GAAe,YAAT,MAAE,G,eAQPD,MAAM,0C,GACTC,EAAAA,EAAAA,GAAiB,YAAX,QAAI,G,eAUTD,MAAM,iB,uHAxBfE,EAAAA,EAAAA,IAiCM,MAjCN,EAiCM,EAhCJC,EAAAA,EAAAA,IAA6BC,EAAA,CAAlBC,KAAK,eAChBJ,EAAAA,EAAAA,GA8BM,MA9BN,EA8BM,EA7BJA,EAAAA,EAAAA,GAoBM,MApBN,EAoBM,EAnBJA,EAAAA,EAAAA,GAQM,MARN,EAQM,CAPFK,IAOE,aANFJ,EAAAA,EAAAA,IAKQK,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IALiCC,EAAAA,gBAAc,CAA5BC,EAAKC,M,WAAhCT,EAAAA,EAAAA,IAKQ,SALDF,MAAM,OAA6CY,IAAKF,EAAKG,OAApE,WACIZ,EAAAA,EAAAA,GAE6B,SAFtBD,MAAM,mBAAmBc,KAAK,QAC5BC,MAAOJ,E,qCACCF,EAAAA,WAAUO,IAF3B,iBAEiBP,EAAAA,eAAAA,EAAAA,EAAAA,IAAY,KAC7BQ,EAAAA,EAAAA,IAAGP,EAAKG,OAAK,QAJjB,SAOJZ,EAAAA,EAAAA,GASM,MATN,EASM,CARJiB,GAQI,SAPJjB,EAAAA,EAAAA,GAMS,UANDD,MAAM,yC,qCAAkDS,EAAAA,YAAWO,IAA3E,gBACEd,EAAAA,EAAAA,IAISK,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAJoBC,EAAAA,iBAAe,CAA7BC,EAAKC,M,WAApBT,EAAAA,EAAAA,IAIS,UAHAU,IAAKF,EAAKG,MACVE,MAAOJ,IAFhB,QAGKD,EAAKG,OAAK,EAAAM,MAHf,OADF,YAAgEV,EAAAA,oBASpER,EAAAA,EAAAA,GAOM,MAPN,EAOM,EANJE,EAAAA,EAAAA,IAEwEiB,EAAA,CAF5DC,UAAWC,EAAAA,cACbtB,OAAK,SAAC,YAAW,MAC+B,SAAhCS,EAAAA,eAAeA,EAAAA,YAAYM,UAFrD,+BAGAZ,EAAAA,EAAAA,IAEuEoB,EAAA,CAF5DF,UAAWC,EAAAA,aACZtB,OAAK,SAAC,YAAW,MAC+B,QAAhCS,EAAAA,eAAeA,EAAAA,YAAYM,UAFrD,oC,8BCfRS,EAAAA,GAAAA,SAAiBC,EAAAA,GAAOC,EAAAA,EAASC,EAAAA,GAAQC,EAAAA,GAAaC,EAAAA,GAAaC,EAAAA,GAAcC,EAAAA,IAEjF,OAAeC,EAAAA,EAAAA,IAAgB,CAC7BC,KAAM,YACNC,WAAY,CAAEC,KAAAA,EAAAA,IACdC,MAAO,CACLf,UAAW,CACTP,KAAMuB,QAERC,WAAY,CACVxB,KAAMyB,QAERC,iBAAkB,CAChB1B,KAAM2B,QACNC,SAAS,GAEXC,OAAQ,CACN7B,KAAM8B,OACNF,QAAS,MAGbG,MAAOT,GACL,MAAMU,EAAe,CACnBC,YAAY,EACZC,qBAAqB,EACrBC,QAAS,CACPC,OAAQ,CACNC,SAAU,UAEZtC,MAAO,CACLuC,QAAShB,EAAMI,iBACfnC,KAAM+B,EAAME,cAKlB,MAAO,KACLe,EAAAA,EAAAA,GAAElB,EAAAA,GAAM,CACNd,UAAWe,EAAMf,UACjByB,aAAAA,EACAH,OAAQP,EAAMO,YCnDtB,MAAMW,EAAc,EAEpB,QCQA9B,EAAAA,GAAAA,SAAiBC,EAAAA,GAAOC,EAAAA,EAASC,EAAAA,GAAQ4B,EAAAA,GAAYxB,EAAAA,GAAeF,EAAAA,IAEpE,OAAeG,EAAAA,EAAAA,IAAgB,CAC7BC,KAAM,WACNC,WAAY,CAAEsB,IAAAA,EAAAA,IACdpB,MAAO,CACLf,UAAW,CACTP,KAAMuB,QAERC,WAAY,CACVxB,KAAMyB,QAERC,iBAAkB,CAChB1B,KAAM2B,QACNC,SAAS,GAEXC,OAAQ,CACN7B,KAAM8B,OACNF,QAAS,MAGbG,MAAOT,GACL,MAAMU,EAAe,CACnBC,YAAY,EACZC,qBAAqB,EACrBC,QAAS,CACPC,OAAQ,CACNC,SAAU,UAEZtC,MAAO,CACLuC,QAAShB,EAAMI,iBACfnC,KAAM+B,EAAME,aAGhBmB,OAAQ,CACNC,EAAG,CACDC,SAAS,GAEXC,EAAG,CACDD,SAAS,KAKf,MAAO,KACLN,EAAAA,EAAAA,GAAEG,EAAAA,GAAK,CACLnC,UAAWe,EAAMf,UACjByB,aAAAA,EACAH,OAAQP,EAAMO,YC1DtB,MAAM,EAAc,EAEpB,QJqCA,GACEV,KAAM,YACNC,WAAY,CACV2B,UADU,IAEVC,UAFU,EAGVC,SAAAA,GAEF3B,MAAO,CACL4B,SAAUC,MACVC,WAAY3B,OACZ4B,WAAYF,OAEdG,OACE,MAAO,CACLC,WAAY,EACZC,eAAgB,CACd,CACEzD,MAAO,MACPE,MAAO,OAET,CACEF,MAAO,MACPE,MAAO,SAGXwD,YAAa,EACbC,gBAAiB,CACf,CACEC,IAAK,GACL5D,MAAO,UAET,CACE4D,IAAK,GACL5D,MAAO,UAET,CACE4D,IAAK,IACL5D,MAAO,WAET,CACE4D,IAAK,IACL5D,MAAO,WAET,CACE4D,IAAK,IACL5D,MAAO,cAKf6D,SAAU,CACRC,WACE,MAAMC,EAAM,CACVC,KAAM,GACNC,IAAK,IAeP,OAbAC,KAAKf,SAASgB,SAAQ,EAAGC,GAAAA,EAAIC,KAAAA,EAAMC,KAAAA,EAAMC,KAAAA,EAAMC,OAAAA,EAAQC,SAAAA,EAAUC,IAAAA,MAC1DX,EAAIE,IAAII,KACXN,EAAIC,KAAKW,KAAKN,GACdN,EAAIE,IAAII,GAAQ,CACdL,KAAM,GACNC,IAAK,KAITF,EAAIE,IAAII,GAAML,KAAKW,KAAKP,GACxBL,EAAIE,IAAII,GAAMJ,IAAIG,GAAM,CAAEE,KAAAA,EAAMC,KAAAA,EAAMC,OAAAA,EAAQC,SAAAA,EAAUC,IAAAA,MAGnDX,GAETa,WACE,OAAOV,KAAKP,gBAAgBO,KAAKR,aAAaE,KAEhDiB,eACE,MAAMC,EAASZ,KAAKJ,SAASE,KAC1Be,MAAM,EAAGb,KAAKU,UACdI,UAEGC,EAAO,GACPC,EAAQ,GAQd,OAPAJ,EAAOX,SAAQE,IACb,MAAMT,EAAMM,KAAKJ,SAASG,IAAII,GAAML,KAAKmB,QAAOtF,IAASqE,KAAKJ,SAASG,IAAII,GAAMJ,IAAIpE,GAAM4E,WAAUW,OACrGH,EAAKN,KAAKf,GAEV,MAAMyB,EAAOnB,KAAKJ,SAASG,IAAII,GAAML,KAAKmB,QAAOtF,GAAQqE,KAAKJ,SAASG,IAAII,GAAMJ,IAAIpE,GAAM4E,WAAUW,OACrGF,EAAMP,KAAKU,MAEN,CACLP,OAAQA,EACRQ,SAAU,CACR,CACEC,MAAO,SACPC,gBAAiB,UACjBC,YAAa,UACblC,KAAM0B,GAER,CACEM,MAAO,SACPC,gBAAiB,UACjBC,YAAa,UACblC,KAAM2B,MAKdQ,gBACE,MAAMZ,EAASZ,KAAKJ,SAASE,KAC1Be,MAAM,EAAGb,KAAKU,UACdI,UAEGC,EAAO,GAKb,OAJAH,EAAOX,SAAQE,IACb,MAAMT,EAAMM,KAAKJ,SAASG,IAAII,GAAML,KAAKoB,OACzCH,EAAKN,KAAKf,MAEL,CACLkB,OAAQA,EACRQ,SAAU,CACR,CACEC,MAAO,UACPC,gBAAiB,UACjBC,YAAa,UACblC,KAAM0B,Q,SKhKlB,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASU,KAEpE","sources":["webpack://covid19_exercise/./src/views/ChartView.vue","webpack://covid19_exercise/./src/components/LineChart.vue","webpack://covid19_exercise/./src/components/LineChart.vue?30b1","webpack://covid19_exercise/./src/components/BarChart.vue","webpack://covid19_exercise/./src/components/BarChart.vue?b0ea","webpack://covid19_exercise/./src/views/ChartView.vue?7bbb"],"sourcesContent":["<template>\r\n  <div class=\"chart\">\r\n    <PageTitle text=\"台灣確診疫情統計圖\"/>\r\n    <div class=\"main\">\r\n      <div class=\"border-bottom d-flex flex-wrap mb-4\">\r\n        <div class=\"radio d-flex align-items-center mb-3\">\r\n            <span>顯示</span>\r\n            <label class=\"ms-3\" v-for=\"item,index of radioInputList\" :key=\"item.title\">\r\n                <input class=\"form-check-input\" type=\"radio\"\r\n                        :value=\"index\"\r\n                        v-model=\"radioIndex\">\r\n                {{ item.title }}\r\n            </label>\r\n        </div>\r\n        <div class=\"d-flex align-items-center mb-3 ms-auto\">\r\n          <span>顯示天數</span>\r\n          <select class=\"form-select form-select-sm w-auto ms-2\" v-model=\"selectIndex\">\r\n            <option v-for=\"item,index of selectInputList\"\r\n                    :key=\"item.title\"\r\n                    :value=\"index\">\r\n              {{ item.title }}\r\n            </option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n      <div class=\"chartBox mb-4\">\r\n        <LineChart :chartData=\"chartLineData\"\r\n                  class=\"chartItem\"\r\n                  :class=\"{'show':radioInputList[radioIndex].value==='line'}\" />\r\n        <BarChart :chartData=\"chartBarData\"\r\n                  class=\"chartItem\"\r\n                  :class=\"{'show':radioInputList[radioIndex].value==='bar'}\" />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport PageTitle from '@/components/PageTitle.vue'\r\nimport LineChart from '@/components/LineChart.vue'\r\nimport BarChart from '@/components/BarChart.vue'\r\n\r\nexport default {\r\n  name: 'ChartView',\r\n  components: {\r\n    PageTitle,\r\n    LineChart,\r\n    BarChart\r\n  },\r\n  props: {\r\n    dataList: Array,\r\n    latestDate: String,\r\n    taiwanList: Array\r\n  },\r\n  data () {\r\n    return {\r\n      radioIndex: 0,\r\n      radioInputList: [\r\n        {\r\n          title: '長條圖',\r\n          value: 'bar'\r\n        },\r\n        {\r\n          title: '折線圖',\r\n          value: 'line'\r\n        }\r\n      ],\r\n      selectIndex: 0,\r\n      selectInputList: [\r\n        {\r\n          num: 30,\r\n          title: '近 30 日'\r\n        },\r\n        {\r\n          num: 90,\r\n          title: '近 90 日'\r\n        },\r\n        {\r\n          num: 180,\r\n          title: '近 180 日'\r\n        },\r\n        {\r\n          num: 365,\r\n          title: '近 365 日'\r\n        },\r\n        {\r\n          num: 500,\r\n          title: '近 500 日'\r\n        }\r\n      ]\r\n    }\r\n  },\r\n  computed: {\r\n    dateList () {\r\n      const obj = {\r\n        sort: [],\r\n        map: {}\r\n      }\r\n      this.dataList.forEach(({ id, date, city, town, gender, overseas, age }) => {\r\n        if (!obj.map[date]) {\r\n          obj.sort.push(date)\r\n          obj.map[date] = {\r\n            sort: [],\r\n            map: {}\r\n          }\r\n        }\r\n\r\n        obj.map[date].sort.push(id)\r\n        obj.map[date].map[id] = { city, town, gender, overseas, age }\r\n      })\r\n\r\n      return obj\r\n    },\r\n    chartNum () {\r\n      return this.selectInputList[this.selectIndex].num\r\n    },\r\n    chartBarData () {\r\n      const labels = this.dateList.sort\r\n        .slice(0, this.chartNum)\r\n        .reverse()\r\n\r\n      const nums = []\r\n      const nums2 = []\r\n      labels.forEach(date => {\r\n        const num = this.dateList.map[date].sort.filter(item => !this.dateList.map[date].map[item].overseas).length\r\n        nums.push(num)\r\n\r\n        const num2 = this.dateList.map[date].sort.filter(item => this.dateList.map[date].map[item].overseas).length\r\n        nums2.push(num2)\r\n      })\r\n      return {\r\n        labels: labels,\r\n        datasets: [\r\n          {\r\n            label: '當日本土新增',\r\n            backgroundColor: '#198754',\r\n            borderColor: '#198754',\r\n            data: nums\r\n          },\r\n          {\r\n            label: '當日境外移入',\r\n            backgroundColor: '#6366e0',\r\n            borderColor: '#6366e0',\r\n            data: nums2\r\n          }\r\n        ]\r\n      }\r\n    },\r\n    chartLineData () {\r\n      const labels = this.dateList.sort\r\n        .slice(0, this.chartNum)\r\n        .reverse()\r\n\r\n      const nums = []\r\n      labels.forEach(date => {\r\n        const num = this.dateList.map[date].sort.length\r\n        nums.push(num)\r\n      })\r\n      return {\r\n        labels: labels,\r\n        datasets: [\r\n          {\r\n            label: '當日總確診人數',\r\n            backgroundColor: '#dc3545',\r\n            borderColor: '#dc3545',\r\n            data: nums\r\n          }\r\n        ]\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n","<script>\r\nimport { defineComponent, h } from 'vue'\r\nimport { Line } from 'vue-chartjs'\r\nimport {\r\n  Chart as ChartJS,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n  LineElement,\r\n  LinearScale,\r\n  PointElement,\r\n  CategoryScale\r\n} from 'chart.js'\r\n\r\nChartJS.register(Title, Tooltip, Legend, LineElement, LinearScale, PointElement, CategoryScale)\r\n\r\nexport default defineComponent({\r\n  name: 'LineChart',\r\n  components: { Line },\r\n  props: {\r\n    chartData: {\r\n      type: Object\r\n    },\r\n    chartTitle: {\r\n      type: String\r\n    },\r\n    chartTitleIsShow: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    height: {\r\n      type: Number,\r\n      default: 400\r\n    }\r\n  },\r\n  setup (props) {\r\n    const chartOptions = {\r\n      responsive: true,\r\n      maintainAspectRatio: false,\r\n      plugins: {\r\n        legend: {\r\n          position: 'bottom'\r\n        },\r\n        title: {\r\n          display: props.chartTitleIsShow,\r\n          text: props.chartTitle\r\n        }\r\n      }\r\n    }\r\n\r\n    return () =>\r\n      h(Line, {\r\n        chartData: props.chartData,\r\n        chartOptions,\r\n        height: props.height\r\n      })\r\n  }\r\n})\r\n</script>\r\n","import script from \"./LineChart.vue?vue&type=script&lang=js\"\nexport * from \"./LineChart.vue?vue&type=script&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<script>\r\nimport { defineComponent, h } from 'vue'\r\nimport { Bar } from 'vue-chartjs'\r\nimport {\r\n  Chart as ChartJS,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n  BarElement,\r\n  CategoryScale,\r\n  LinearScale\r\n} from 'chart.js'\r\n\r\nChartJS.register(Title, Tooltip, Legend, BarElement, CategoryScale, LinearScale)\r\n\r\nexport default defineComponent({\r\n  name: 'BarChart',\r\n  components: { Bar },\r\n  props: {\r\n    chartData: {\r\n      type: Object\r\n    },\r\n    chartTitle: {\r\n      type: String\r\n    },\r\n    chartTitleIsShow: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    height: {\r\n      type: Number,\r\n      default: 400\r\n    }\r\n  },\r\n  setup (props) {\r\n    const chartOptions = {\r\n      responsive: true,\r\n      maintainAspectRatio: false,\r\n      plugins: {\r\n        legend: {\r\n          position: 'bottom'\r\n        },\r\n        title: {\r\n          display: props.chartTitleIsShow,\r\n          text: props.chartTitle\r\n        }\r\n      },\r\n      scales: {\r\n        x: {\r\n          stacked: true\r\n        },\r\n        y: {\r\n          stacked: true\r\n        }\r\n      }\r\n    }\r\n\r\n    return () =>\r\n      h(Bar, {\r\n        chartData: props.chartData,\r\n        chartOptions,\r\n        height: props.height\r\n      })\r\n  }\r\n})\r\n</script>\r\n","import script from \"./BarChart.vue?vue&type=script&lang=js\"\nexport * from \"./BarChart.vue?vue&type=script&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { render } from \"./ChartView.vue?vue&type=template&id=2fbce38c\"\nimport script from \"./ChartView.vue?vue&type=script&lang=js\"\nexport * from \"./ChartView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\user\\\\vue\\\\covid19_exercise\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createElementBlock","_createVNode","_component_PageTitle","text","_hoisted_5","_Fragment","_renderList","$data","item","index","key","title","type","value","$event","_toDisplayString","_hoisted_8","_hoisted_9","_component_LineChart","chartData","$options","_component_BarChart","ChartJS","Title","Tooltip","Legend","LineElement","LinearScale","PointElement","CategoryScale","defineComponent","name","components","Line","props","Object","chartTitle","String","chartTitleIsShow","Boolean","default","height","Number","setup","chartOptions","responsive","maintainAspectRatio","plugins","legend","position","display","h","__exports__","BarElement","Bar","scales","x","stacked","y","PageTitle","LineChart","BarChart","dataList","Array","latestDate","taiwanList","data","radioIndex","radioInputList","selectIndex","selectInputList","num","computed","dateList","obj","sort","map","this","forEach","id","date","city","town","gender","overseas","age","push","chartNum","chartBarData","labels","slice","reverse","nums","nums2","filter","length","num2","datasets","label","backgroundColor","borderColor","chartLineData","render"],"sourceRoot":""}