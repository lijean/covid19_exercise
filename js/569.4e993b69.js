"use strict";(self["webpackChunkcovid19_exercise"]=self["webpackChunkcovid19_exercise"]||[]).push([[569],{50:function(t,e,i){i.d(e,{Z:function(){return m}});var s=i(252),a=i(577);const r={class:"pageTitle text-center py-5 mb-3"},n={class:"fs-1 fw-bold mb-0"};function l(t,e,i,l,c,o){return(0,s.wg)(),(0,s.iD)("div",r,[(0,s._)("h1",n,(0,a.zw)(i.text),1)])}var c={name:"PageTitle",props:{text:String}},o=i(744);const d=(0,o.Z)(c,[["render",l]]);var m=d},770:function(t,e,i){i.r(e),i.d(e,{default:function(){return U}});var s=i(252);const a={class:"home"},r={class:"main"},n={class:"row align-items-start py-5"};function l(t,e,i,l,c,o){const d=(0,s.up)("PageTitle"),m=(0,s.up)("CardItem"),u=(0,s.up)("OrderItem"),p=(0,s.up)("MapItem");return(0,s.wg)(),(0,s.iD)("div",a,[(0,s.Wm)(d,{text:"台灣當日新增疫情一覽"}),(0,s._)("div",r,[(0,s.Wm)(m,{class:"mb-4",itemList:o.confirmedNumList},null,8,["itemList"]),(0,s._)("div",n,[o.cityOrderList.length>0?((0,s.wg)(),(0,s.j4)(u,{key:0,class:"col-xl-4 col-12 mb-4",itemTitle:"當日確診排行",itemDate:i.latestDate,itemText:"確診人數",itemList:o.cityOrderList},null,8,["itemDate","itemList"])):(0,s.kq)("",!0),(0,s.Wm)(p,{class:"col-xl-8 col-12 mb-4 flex-lg-grow-1",itemTitle:"當日縣市疫情地圖",itemDate:i.latestDate,itemList:o.cityConfirmedList},null,8,["itemDate","itemList"])])])])}var c=i(50),o=i(577);const d={class:"cardItem row"},m={class:"card rounded-3 text-center"},u={class:"fs-4"},p={class:"card-body"},g={class:"card-text fs-6 opacity-50"};function y(t,e,i,a,r,n){return(0,s.wg)(),(0,s.iD)("div",d,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.itemList,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{class:"col-xl-4 col-12 mb-3",key:t.title},[(0,s._)("div",m,[(0,s._)("div",{class:(0,o.C_)(["card-header py-3 text-white",[`bg-${n.colorStyleList(e)}`]])},[(0,s._)("div",u,(0,o.zw)(t.title),1)],2),(0,s._)("div",p,[(0,s._)("div",{class:(0,o.C_)(["card-title fs-1 fw-bold mb-2",`text-${n.colorStyleList(e)}`])},(0,o.zw)(t.num),3),(0,s._)("p",g,(0,o.zw)(t.text),1)])])])))),128))])}var h={name:"CardItem",props:{itemList:Array},methods:{colorStyleList(t){const e=["danger","success","primary"];return e[t%e.length]}}},w=i(744);const f=(0,w.Z)(h,[["render",y]]);var L=f;const v={class:"order d-flex flex-wrap"},x={class:"fs-3 mb-0 d-inline-block"},b={class:"fs-6 d-inline-block ms-auto opacity-50"},D={class:"list-group rounded-3 py-5 px-4 mt-3 bg-secondary bg-opacity-10 w-100"},_={class:"me-3"},k={class:"flex-fill"},C={class:"card-title fs-4 mb-0"},S={class:"card-text fs-6 opacity-50"};function T(t,e,i,a,r,n){return(0,s.wg)(),(0,s.iD)("div",v,[(0,s._)("h3",x,(0,o.zw)(i.itemTitle),1),(0,s._)("span",b,(0,o.zw)(i.itemDate),1),(0,s._)("div",D,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.itemList,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:t.title,class:(0,o.C_)(["list-group-item d-flex align-items-center border-0 rounded text-white",[[`bg-${n.colorStyleList(e)}`],0!==e?"mt-3":""]])},[(0,s._)("div",_,[(0,s._)("div",{class:(0,o.C_)(["icon icon-shape rounded-circle shadow-lg bg-gradient",[`bg-${n.colorStyleList(e)}`]])},(0,o.zw)(e+1),3)]),(0,s._)("div",k,[(0,s._)("div",C,(0,o.zw)(t.title),1),(0,s._)("p",S,(0,o.zw)(i.itemText)+" "+(0,o.zw)(t.num),1)])],2)))),128))])])}var z={name:"OrderItem",props:{itemTitle:String,itemText:String,itemDate:String,itemList:Array},methods:{colorStyleList(t){const e=["danger","primary","secondary"];return t<e.length-1?e[t]:e[e.length-1]}}};const H=(0,w.Z)(z,[["render",T]]);var I=H,O=i.p+"img/map.c7c1afcf.png";const Z={class:"map d-flex flex-wrap"},$={key:0,class:"fs-3 mb-0 d-inline-block"},A={key:1,class:"fs-6 d-inline-block ms-auto opacity-50"},q={class:"text-center rounded-3 py-5 px-4 mt-3 bg-secondary bg-opacity-10 w-100"},E={class:"map d-inline-block"},K=(0,s._)("img",{src:O,alt:"台灣地圖",class:"w-auto mw-100"},null,-1),M={class:"mapTargetList"};function P(t,e,i,a,r,n){return(0,s.wg)(),(0,s.iD)("div",Z,[i.itemTitle?((0,s.wg)(),(0,s.iD)("h3",$,(0,o.zw)(i.itemTitle),1)):(0,s.kq)("",!0),i.itemDate?((0,s.wg)(),(0,s.iD)("span",A,(0,o.zw)(i.itemDate),1)):(0,s.kq)("",!0),(0,s._)("div",q,[(0,s._)("div",E,[K,(0,s._)("ul",M,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.itemList,((t,e)=>((0,s.wg)(),(0,s.iD)("li",{key:t.title,class:(0,o.C_)(["text-nowrap fs-6",`mapTarget${e}`])},[(0,s.Uk)((0,o.zw)(t.title)+" ",1),(0,s._)("span",{class:(0,o.C_)(["d-block rounded-3 text-white",[`bg-${n.colorStyleList(t.num)}`]])},(0,o.zw)(t.num),3)],2)))),128))])])])])}var W={name:"CityMap",props:{itemTitle:String,itemDate:String,itemList:Array},methods:{colorStyleList(t){const e=["danger","primary","secondary"];return t>=100?e[0]:t>0?e[1]:e[2]}}};const Y=(0,w.Z)(W,[["render",P]]);var j=Y,N={name:"HomeView",components:{PageTitle:c.Z,CardItem:L,OrderItem:I,MapItem:j},props:{dataList:Array,latestDate:String,taiwanList:Array},computed:{totalConfirmed(){return this.dataList.filter((({date:t})=>t<=this.latestDate)).length},todayList(){return this.dataList.filter((({date:t})=>t===this.latestDate))},todayLocal(){return this.todayList.filter((({overseas:t})=>!t)).length},todayOverseas(){return this.todayList.filter((({overseas:t})=>t)).length},confirmedNumList(){return[{title:"累計總確診(例)",num:this.currencyHandler(this.totalConfirmed),text:this.latestDate},{title:"當日本土新增(例)",num:(0!==this.todayLocal?"+ ":"")+this.currencyHandler(this.todayLocal),text:this.latestDate},{title:"當日境外移入(例)",num:(0!==this.todayOverseas?"+ ":"")+this.currencyHandler(this.todayOverseas),text:this.latestDate}]},cityList(){const t={sort:this.taiwanList,map:{}};return t.sort.forEach((e=>{t.map[e]={sort:[],map:{}}})),this.dataList.forEach((({id:e,date:i,city:s,town:a,gender:r,overseas:n,age:l})=>{t.map[s].sort.push(e),t.map[s].map[e]={date:i,town:a,gender:r,overseas:n,age:l}})),t},cityConfirmedList(){const t=this.cityList.sort.map((t=>{const e=this.cityList.map[t],i=e.sort.filter((t=>e.map[t].date===this.latestDate));return{title:t,num:i.length}}));return t},cityOrderList(){const t=this.cityConfirmedList.filter(((t,e)=>0!==e)).filter((({num:t})=>t>0)).sort(((t,e)=>e.num-t.num)).map((({title:t,num:e})=>({title:t,num:this.currencyHandler(e)}))).slice(0,4);return t},dateList(){const t={sort:[],map:{}};return this.dataList.forEach((({id:e,date:i,city:s,town:a,gender:r,overseas:n,age:l})=>{t.map[i]||(t.sort.push(i),t.map[i]={sort:[],map:{}}),t.map[i].sort.push(e),t.map[i].map[e]={city:s,town:a,gender:r,overseas:n,age:l}})),t}},methods:{currencyHandler(t){const e=t.toString().split(".");return e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),e.join(".")}}};const B=(0,w.Z)(N,[["render",l]]);var U=B}}]);
//# sourceMappingURL=569.4e993b69.js.map